.timeline {
	--ball-width: 10rem;
	--icon-size: 5rem;

	@media screen and (max-width: 850px) and (orientation: portrait),
		screen and (max-height: 850px) and (orientation: landscape) {
		--ball-width: 6rem;
		--icon-size: 3rem;
	}

	@media screen and (max-width: 550px) and (orientation: portrait),
		screen and (max-height: 550px) and (orientation: landscape) {
		--ball-width: 4rem;
		--icon-size: 2rem;
	}

	width: 100%;

	@media screen and (max-height: 550px) and (orientation: landscape) {
		width: 80%;
	}

	.timeline-list {
		width: 100%;
		position: relative;
		display: flex;
		flex-direction: column;

		align-items: center;
		padding: 3.5rem 0;

		.row-wrapper {
			width: 100%;
			position: relative;
			display: flex;
			flex-direction: column;
			align-items: center;

			.row {
				width: 100%;
				position: relative;
				display: flex;
				flex-direction: column;
				align-items: center;

				.ball {
					position: relative;
					width: var(--ball-width);
					aspect-ratio: 1;
					border-radius: 50%;
					border: 0.25rem solid var(--gray1);
					overflow: hidden;

					.icon-wrapper {
						position: absolute;
						width: 100%;
						height: 100%;
						top: 50%;
						left: 50%;
						transform: translate(-50%, -50%);
						color: var(--gray1);
						display: flex;
						align-items: center;
						justify-content: center;
						opacity: 0;
						transition: opacity 0.5s ease-in-out;

						&.visible {
							opacity: 1;
						}

						.icon {
							font-size: var(--icon-size);
						}
					}
				}

				.text {
					height: 100%;
					width: 45%;
					position: absolute;
					display: flex;
					flex-direction: column;
					justify-content: center;
					font-size: 1.5rem;
					gap: 1rem;

					h3 {
						font-size: 2.5rem;
						font-weight: bold;
						text-wrap: pretty;
						text-shadow: 0.5rem 0.5rem 1rem black, 0.5rem 0.5rem 2rem black,
							0.5rem 0.5rem 3rem black;
						white-space: pre-line;
					}

					p {
						color: var(--gray1);
						text-shadow: 0.5rem 0.5rem 1rem black, 0.5rem 0.5rem 2rem black,
							0.5rem 0.5rem 3rem black;
						line-height: 1.25;
					}
				}

				.text.left {
					transform: translateX(-120%);
					text-align: right;
					transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
					opacity: 0;

					&.visible {
						transform: translateX(-70%);
						opacity: 1;
					}
				}

				.text.right {
					transform: translateX(120%);
					transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
					opacity: 0;

					&.visible {
						transform: translateX(70%);
						opacity: 1;
					}
				}
			}

			.line {
				position: relative;
				width: 0.25rem;
				height: 7rem;
				background: var(--gray1);
			}
		}
	}

	@media screen and (max-width: 850px) and (orientation: portrait),
		screen and (max-height: 850px) and (orientation: landscape) {
		.timeline-list {
			display: block;
			position: relative;
			padding: 2rem 1rem 0 1rem;

			.row-wrapper {
				align-items: flex-start;

				.row {
					display: grid;
					grid-template-columns: var(--ball-width) 1fr;
					grid-template-rows: var(--ball-width) auto;

					.ball {
						grid-column: 1;
						grid-row: 1;
						border-color: hsl(var(--ball-hue), 100%, 50%);
					}

					h3 {
						grid-column: 2;
						grid-row: 1;
						position: relative;
						align-items: center;
						font-size: 2.25rem;
						padding: 0 1rem;
						font-weight: 500;
						left: 2.5ch;
						opacity: 0;
						transform: translateY(50%);
						transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;

						@media screen and (max-width: 550px) and (orientation: portrait),
							screen and (max-height: 550px) and (orientation: landscape) {
							font-size: 1.75rem;
						}

						&.visible {
							transform: translateY(0);
							opacity: 1;
						}

						&::before {
							content: attr(data-step) '. ';
							position: absolute;
							left: -1.5ch;
						}
					}

					.line {
						grid-column: 1;
						grid-row: 2;
						height: calc(100% - 2rem);
						position: relative;
						transform: translateX(calc(var(--ball-width) / 2 - 0.125rem));
						background-color: transparent;
						background-image: linear-gradient(
							to bottom,
							hsl(var(--ball-hue), 100%, 50%),
							hsl(calc(var(--ball-hue) - 36), 100%, 50%)
						);
					}

					.text {
						grid-column: 2;
						grid-row: 2;
						width: 100%;
						height: auto;
						position: relative;

						justify-content: flex-start;
						padding: 1rem 0 2rem 1rem;
						font-size: 1.25rem;
						line-height: 1.25;

						color: var(--gray1);

						@media screen and (max-width: 550px) and (orientation: portrait),
							screen and (max-height: 550px) and (orientation: landscape) {
							font-size: 1rem;
						}
					}

					.text.left,
					.text.right {
						text-align: left;
						transform: translateY(50%);
						transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;

						&.visible {
							opacity: 1;
							transform: translateY(0);
						}
					}
				}

				&:last-child {
					.line {
						background-image: linear-gradient(
							to bottom,
							hsl(var(--ball-hue), 100%, 50%),
							hsla(calc(var(--ball-hue) - 16), 100%, 50%, 0.25),
							transparent 90%
						);
					}
				}
			}
		}
	}
}

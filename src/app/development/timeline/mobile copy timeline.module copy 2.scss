:root {
	--ball-width: 10rem;
	--icon-size: 5rem;

	@media screen and (max-width: 500px) and (orientation: portrait) {
		--ball-width: 4rem;
		--icon-size: 2rem;
	}
}

.timeline {
	width: 100%;

	.timeline-list {
		width: 100%;
		position: relative;
		display: flex;
		flex-direction: column;

		align-items: center;
		padding: 3.5rem 0;

		.row-wrapper {
			width: 100%;
			position: relative;
			display: flex;
			flex-direction: column;
			align-items: center;

			.row {
				width: 100%;
				position: relative;
				display: flex;
				flex-direction: column;
				align-items: center;

				.ball {
					position: relative;
					width: var(--ball-width);
					aspect-ratio: 1;
					border-radius: 50%;
					border: 0.25rem solid var(--gray1);
					overflow: hidden;

					.icon-wrapper {
						position: absolute;
						width: 100%;
						height: 100%;
						top: 50%;
						left: 50%;
						transform: translate(-50%, -50%);
						color: var(--gray1);
						display: flex;
						align-items: center;
						justify-content: center;
						opacity: 0;
						transition: opacity 0.6s ease-in-out;

						&.visible {
							opacity: 1;
						}

						.icon {
							font-size: var(--icon-size);
						}
					}
				}

				.text {
					height: 100%;
					width: 45%;
					position: absolute;
					display: flex;
					flex-direction: column;
					justify-content: center;
					font-size: 1.5rem;
					gap: 1rem;

					h3 {
						font-size: 2.5rem;
						font-weight: bold;
						text-wrap: pretty;
						text-shadow: 0.5rem 0.5rem 1rem black, 0.5rem 0.5rem 2rem black,
							0.5rem 0.5rem 3rem black;
						white-space: pre-line;
					}

					p {
						text-wrap: pretty;
						color: var(--gray1);
						text-shadow: 0.5rem 0.5rem 1rem black, 0.5rem 0.5rem 2rem black,
							0.5rem 0.5rem 3rem black;
						line-height: 1.25;
					}
				}

				.text.left {
					transform: translateX(-120%);
					text-align: right;
					transition: transform 0.6s ease-in-out, opacity 0.6s ease-in-out;
					opacity: 0;

					&.visible {
						transform: translateX(-70%);
						opacity: 1;
					}
				}

				.text.right {
					transform: translateX(120%);
					transition: transform 0.6s ease-in-out, opacity 0.6s ease-in-out;
					opacity: 0;

					&.visible {
						transform: translateX(70%);
						opacity: 1;
					}
				}
			}

			.line {
				position: relative;
				width: 0.25rem;
				height: 7rem;
				background: var(--gray1);
			}
		}
	}

	@media screen and (max-width: 500px) and (orientation: portrait) {
		.timeline-list {
			display: block;
			position: relative;
			padding: 3rem 0;
			margin-bottom: 6rem;

			.row-wrapper {
				align-items: flex-start;
				.row {
					align-items: flex-start;

					.ball {
						border-color: hsl(var(--ball-hue), 100%, 50%);

						.icon-wrapper {
							&.visible {
							}

							.icon {
							}
						}
					}

					.text {
						width: calc(100% - var(--ball-width) - 1rem);
						left: calc(var(--ball-width) + 1rem);
						justify-content: flex-start;
						gap: 0;

						h3 {
							min-height: var(--ball-width);
							position: relative;
							display: flex;
							align-items: center;
							font-size: 1.75rem;
							left: 2.5ch;

							&::before {
								content: attr(data-step) '. ';
								position: absolute;
								left: -2.5ch;
							}
						}

						p {
							font-size: 1.125rem;
						}
					}

					.text.left,
					.text.right {
						text-align: left;
						transform: translateX(50%);
						transition: opacity 0.6s ease-in-out, transform 0.6s ease-in-out;

						&.visible {
							opacity: 1;
							transform: translateX(0);
						}
					}
				}

				.line {
					position: relative;
					transform: translateX(calc(var(--ball-width) / 2 - 0.125rem));
					height: 12rem;
					margin: 1rem 0;
					background-image: linear-gradient(
						to bottom,
						hsl(var(--ball-hue), 100%, 50%),
						hsl(calc(var(--ball-hue) - 36), 100%, 50%)
					);
				}
			}
		}
	}
}
